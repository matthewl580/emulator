{
  "initCode": "// Breakout Clone Init\nwindow._state = {\n  paddle: { x: 32, width: 10 },\n  ball: { x: 32, y: 50, dx: 1, dy: -1, speed: 0.5 },\n  bricks: Array(32).fill().map((_, i) => ({\n    x: (i % 8) * 8 + 4,\n    y: Math.floor(i / 8) * 3 + 4,\n    alive: true\n  })),\n  score: 0,\n  lives: 3,\n  gameOver: false\n};\n\n// Setup audio\ntry {\n  window._synth = new Tone.Synth().toDestination();\n  window._effects = {\n    bounce: () => window._synth.triggerAttackRelease('G4', '32n'),\n    break: () => window._synth.triggerAttackRelease('C5', '16n'),\n    die: () => window._synth.triggerAttackRelease('C3', '8n')\n  };\n} catch (e) { console.warn('Tone unavailable', e); }",
  "updateCode": "// Breakout Clone Update\n(function(){\n  const canvas = document.getElementById('game-canvas');\n  const ctx = window._ctx || canvas.getContext('2d');\n  const state = window._state;\n  if (!state || state.gameOver) return;\n\n  // Input handling\n  document.onmousemove = (e) => {\n    if (state.gameOver) return;\n    const rect = canvas.getBoundingClientRect();\n    const x = (e.clientX - rect.left) / rect.width * 64;\n    state.paddle.x = Math.max(state.paddle.width/2, \n                    Math.min(63 - state.paddle.width/2, x));\n  };\n\n  // Move ball\n  state.ball.x += state.ball.dx * state.ball.speed;\n  state.ball.y += state.ball.dy * state.ball.speed;\n\n  // Ball collision with walls\n  if (state.ball.x <= 0 || state.ball.x >= 63) {\n    state.ball.dx *= -1;\n    if (window._effects) window._effects.bounce();\n  }\n  if (state.ball.y <= 0) {\n    state.ball.dy *= -1;\n    if (window._effects) window._effects.bounce();\n  }\n\n  // Ball collision with paddle\n  if (state.ball.y >= 60 && state.ball.y <= 61) {\n    if (Math.abs(state.ball.x - state.paddle.x) < state.paddle.width/2) {\n      state.ball.dy = -1;\n      state.ball.dx = (state.ball.x - state.paddle.x) / (state.paddle.width/2);\n      if (window._effects) window._effects.bounce();\n    }\n  }\n\n  // Ball out of bounds\n  if (state.ball.y > 64) {\n    state.lives--;\n    if (window._effects) window._effects.die();\n    if (state.lives <= 0) {\n      state.gameOver = true;\n    } else {\n      state.ball = { x: 32, y: 50, dx: 1, dy: -1, speed: 0.5 };\n    }\n  }\n\n  // Ball collision with bricks\n  state.bricks.forEach(brick => {\n    if (!brick.alive) return;\n    if (Math.abs(state.ball.x - brick.x) < 4 &&\n        Math.abs(state.ball.y - brick.y) < 2) {\n      brick.alive = false;\n      state.score += 10;\n      state.ball.dy *= -1;\n      if (window._effects) window._effects.break();\n    }\n  });\n\n  // Clear screen\n  ctx.fillStyle = '#000044';\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  const scale = canvas.width / 64;\n\n  // Draw bricks\n  state.bricks.forEach(brick => {\n    if (!brick.alive) return;\n    ctx.fillStyle = '#ff4444';\n    ctx.fillRect(brick.x * scale - 3 * scale, brick.y * scale, 6 * scale, 2 * scale);\n  });\n\n  // Draw paddle\n  ctx.fillStyle = '#4444ff';\n  ctx.fillRect((state.paddle.x - state.paddle.width/2) * scale, \n               60 * scale, \n               state.paddle.width * scale, \n               scale);\n\n  // Draw ball\n  ctx.fillStyle = '#ffffff';\n  ctx.beginPath();\n  ctx.arc(state.ball.x * scale, \n          state.ball.y * scale, \n          scale, 0, Math.PI * 2);\n  ctx.fill();\n\n  // Draw score and lives\n  ctx.fillStyle = '#ffffff';\n  ctx.font = '12px monospace';\n  ctx.fillText(`Score: ${state.score}  Lives: ${state.lives}`, 10, 20);\n\n  // Game over\n  if (state.gameOver) {\n    ctx.fillStyle = '#ffffff';\n    ctx.font = '24px monospace';\n    ctx.fillText('Game Over!', canvas.width/4, canvas.height/2);\n  }\n\n  // Victory check\n  if (state.bricks.every(brick => !brick.alive)) {\n    ctx.fillStyle = '#ffffff';\n    ctx.font = '24px monospace';\n    ctx.fillText('Victory!', canvas.width/4, canvas.height/2);\n    state.gameOver = true;\n  }\n})();",
  "displayMode": "1",
  "timestamp": "2025-11-04T00:00:00.000Z"
}