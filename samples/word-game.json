{
  "initCode": "// Word Game Init\nwindow._state = {\n  words: ['CODING', 'SCRIPT', 'CANVAS', 'GAMING', 'PIXEL', 'SOUND'],\n  currentWord: '',\n  guessedLetters: new Set(),\n  wrongGuesses: 0,\n  maxWrongGuesses: 6,\n  score: 0,\n  gameOver: false,\n  message: '',\n  animation: 0\n};\n\n// Select first word\nwindow._state.currentWord = window._state.words[\n  Math.floor(Math.random() * window._state.words.length)\n];\n\n// Setup audio\ntry {\n  window._synth = new Tone.Synth().toDestination();\n  window._effects = {\n    correct: () => window._synth.triggerAttackRelease('C5', '16n'),\n    wrong: () => window._synth.triggerAttackRelease('C3', '16n'),\n    win: () => {\n      window._synth.triggerAttackRelease('C4', '8n', Tone.now());\n      window._synth.triggerAttackRelease('E4', '8n', Tone.now() + 0.1);\n      window._synth.triggerAttackRelease('G4', '8n', Tone.now() + 0.2);\n    },\n    lose: () => {\n      window._synth.triggerAttackRelease('C4', '8n', Tone.now());\n      window._synth.triggerAttackRelease('B3', '8n', Tone.now() + 0.1);\n      window._synth.triggerAttackRelease('C3', '2n', Tone.now() + 0.2);\n    }\n  };\n} catch (e) { console.warn('Tone unavailable', e); }",
  "updateCode": "// Word Game Update\n(function(){\n  const canvas = document.getElementById('game-canvas');\n  const ctx = window._ctx || canvas.getContext('2d');\n  const state = window._state;\n  if (!state || state.gameOver) return;\n\n  // Input handling\n  document.onkeydown = (e) => {\n    if (state.gameOver) {\n      if (e.key === 'Enter') {\n        // Reset game\n        state.currentWord = state.words[\n          Math.floor(Math.random() * state.words.length)\n        ];\n        state.guessedLetters.clear();\n        state.wrongGuesses = 0;\n        state.gameOver = false;\n        state.message = '';\n      }\n      return;\n    }\n\n    const letter = e.key.toUpperCase();\n    if (letter.length === 1 && letter >= 'A' && letter <= 'Z' &&\n        !state.guessedLetters.has(letter)) {\n      state.guessedLetters.add(letter);\n      \n      if (state.currentWord.includes(letter)) {\n        state.message = `Correct! '${letter}' is in the word!`;\n        state.animation = 30;\n        if (window._effects) window._effects.correct();\n\n        // Check win condition\n        if ([...state.currentWord].every(l => state.guessedLetters.has(l))) {\n          state.score++;\n          state.gameOver = true;\n          state.message = 'You win! Press Enter to play again!';\n          if (window._effects) window._effects.win();\n        }\n      } else {\n        state.wrongGuesses++;\n        state.message = `Wrong! '${letter}' is not in the word!`;\n        state.animation = 30;\n        if (window._effects) window._effects.wrong();\n\n        // Check lose condition\n        if (state.wrongGuesses >= state.maxWrongGuesses) {\n          state.gameOver = true;\n          state.message = `Game Over! The word was '${state.currentWord}'. Press Enter to try again!`;\n          if (window._effects) window._effects.lose();\n        }\n      }\n    }\n  };\n\n  // Update animation\n  if (state.animation > 0) state.animation--;\n\n  // Clear screen\n  ctx.fillStyle = '#000044';\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  // Draw gallows\n  ctx.strokeStyle = '#ffffff';\n  ctx.lineWidth = 2;\n  ctx.beginPath();\n  // Base\n  ctx.moveTo(50, canvas.height - 50);\n  ctx.lineTo(150, canvas.height - 50);\n  // Pole\n  ctx.moveTo(100, canvas.height - 50);\n  ctx.lineTo(100, 50);\n  // Top\n  ctx.lineTo(200, 50);\n  // Rope\n  ctx.lineTo(200, 80);\n  ctx.stroke();\n\n  // Draw hangman\n  if (state.wrongGuesses >= 1) { // Head\n    ctx.beginPath();\n    ctx.arc(200, 100, 20, 0, Math.PI * 2);\n    ctx.stroke();\n  }\n  if (state.wrongGuesses >= 2) { // Body\n    ctx.moveTo(200, 120);\n    ctx.lineTo(200, 180);\n    ctx.stroke();\n  }\n  if (state.wrongGuesses >= 3) { // Left arm\n    ctx.moveTo(200, 140);\n    ctx.lineTo(170, 160);\n    ctx.stroke();\n  }\n  if (state.wrongGuesses >= 4) { // Right arm\n    ctx.moveTo(200, 140);\n    ctx.lineTo(230, 160);\n    ctx.stroke();\n  }\n  if (state.wrongGuesses >= 5) { // Left leg\n    ctx.moveTo(200, 180);\n    ctx.lineTo(170, 220);\n    ctx.stroke();\n  }\n  if (state.wrongGuesses >= 6) { // Right leg\n    ctx.moveTo(200, 180);\n    ctx.lineTo(230, 220);\n    ctx.stroke();\n  }\n\n  // Draw word\n  ctx.fillStyle = '#ffffff';\n  ctx.font = '32px monospace';\n  const wordDisplay = [...state.currentWord].map(letter =>\n    state.guessedLetters.has(letter) ? letter : '_'\n  ).join(' ');\n  \n  const wordX = (canvas.width - ctx.measureText(wordDisplay).width) / 2;\n  const wordY = canvas.height - 100;\n  \n  if (state.animation > 0) {\n    ctx.save();\n    ctx.translate(wordX, wordY);\n    ctx.rotate(Math.sin(state.animation * 0.5) * 0.1);\n    ctx.fillText(wordDisplay, 0, 0);\n    ctx.restore();\n  } else {\n    ctx.fillText(wordDisplay, wordX, wordY);\n  }\n\n  // Draw guessed letters\n  ctx.font = '16px monospace';\n  ctx.fillText('Guessed letters:', 300, 100);\n  const guessedDisplay = [...state.guessedLetters].sort().join(' ');\n  ctx.fillText(guessedDisplay, 300, 130);\n\n  // Draw score and remaining guesses\n  ctx.fillText(`Score: ${state.score}`, 300, 50);\n  ctx.fillText(\n    `Remaining guesses: ${state.maxWrongGuesses - state.wrongGuesses}`,\n    300, 70\n  );\n\n  // Draw message\n  if (state.message) {\n    ctx.font = '20px monospace';\n    ctx.fillStyle = state.gameOver ? '#ffff00' : '#ffffff';\n    ctx.fillText(\n      state.message,\n      (canvas.width - ctx.measureText(state.message).width) / 2,\n      30\n    );\n  }\n})();",
  "displayMode": "1",
  "timestamp": "2025-11-04T00:00:00.000Z"
}